# 本地 AI 环境安装（Windows）

:::warning 注意
本次案例使用 `Windows 11 64 位` 作为演示环境，你可以根据自己的硬件配置进行调整。
Mac 安装方式点[这里](/document/study/ai/install.md)
:::

## 1. 安装前准备

在开始安装前，请确保你的 Windows 系统满足以下基本要求：

- Windows 10/11 64 位操作系统
- 至少 4GB 内存（运行大模型建议 8GB 以上）
- 稳定的网络连接（用于下载安装包和模型）

## 2. 具体安装步骤

### 2.1 下载 Ollama 安装包

1. 打开浏览器，访问 Ollama 官方网站：[https://ollama.com/](https://ollama.com/)
2. 点击页面上的 **Download for Windows** 按钮，下载适用于 Windows 的安装程序（文件格式为.exe）
   - 也可以直接访问下载链接：[https://ollama.com/download/windows](https://ollama.com/download/windows)

### 2.2 运行安装程序

1. 找到下载好的 Ollama 安装包（通常在 Downloads 文件夹）
2. 双击运行该安装程序，可能会弹出用户账户控制（UAC）提示，点击“是”允许安装
3. 安装程序会自动完成以下操作：
   - 将 Ollama 安装到系统中
   - 配置系统环境变量
   - 启动 Ollama 后台服务
4. 安装过程通常只需几秒钟，完成后无需额外配置

### 2.3 验证安装是否成功

1. 按下 `Win + R` 打开运行窗口，输入 `cmd` 并回车，打开命令提示符
2. 在命令提示符中输入以下命令，检查 Ollama 版本：
   ```bash
   ollama --version
   ```
3. 如果输出类似 `ollama version 0.1.48` 的版本信息，说明安装成功

### 2.4 测试运行第一个模型（可选）

安装完成后，你可以快速测试运行一个轻量级模型：

```bash
# 拉取并运行llama3:8b模型（约4.7GB）
ollama run llama3:8b
```

- 首次运行会自动下载模型文件，下载时间取决于你的网络速度
- 下载完成后会进入交互模式，你可以直接输入问题与模型对话
- 输入 `/bye` 可退出交互模式

## 3. 常见问题解决

1. **命令提示符中提示“ollama 不是内部或外部命令”**

   - 原因：环境变量未自动配置或配置未生效
   - 解决：重启命令提示符，或手动添加环境变量（Ollama 默认安装路径：`C:\Users\<你的用户名>\AppData\Local\Programs\Ollama`）

2. **模型下载速度慢**

   - 可以配置国内镜像源，具体方法：
     1. 创建 `C:\Users\<你的用户名>\.ollama` 文件夹
     2. 在该文件夹中创建 `config.json` 文件，内容如下：
        ```json
        {
          "registry": "https://mirror.ollama.com"
        }
        ```
     3. 重启 Ollama 服务（在任务管理器中结束 ollama 进程后重新运行）

3. **安装或运行时权限不足**
   - 右键点击命令提示符/安装程序，选择“以管理员身份运行”

## 4. 总结

1. **核心安装步骤**：下载官方 Windows 安装包 → 双击运行安装 → 命令行验证版本
2. **快速使用**：通过 `ollama run 模型名` 即可启动并交互使用大模型
3. **常见问题**：环境变量问题重启终端即可，下载慢可配置国内镜像源
